<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Shawkaine" />





  <link rel="alternate" href="/atom.xml" title="Shawkaine's 小炉" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="Shawkaine&#39;s 小炉">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Shawkaine&#39;s 小炉">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shawkaine&#39;s 小炉">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> Shawkaine's 小炉 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta custom-logo">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Shawkaine's 小炉</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <h1 class="site-subtitle" itemprop="description"></h1>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/20/r-crawler-start/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Shawkaine's 小炉">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Shawkaine's 小炉" src="/images/avatar.jpg">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/20/r-crawler-start/" itemprop="url">
                  R语言静态网页爬虫（rvest, stringr, DOM)
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-20T18:09:00+08:00">
                2017-12-20
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

		  
		  
          
 
        


        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近受友之托，帮忙抓取国内铝合金的价格，正好在学习R语言，便答应了来练手。</p>
<p>初始网址是 <a href="http://ometal.com/bin0/new/searchkey.asp?type=%C2%C1%BA%CF%BD%F0ADC12%BC%DB%B8%F1%D0%D0%C7%E9" target="_blank" rel="noopener">铝合金ADC12价格行情</a>，集合了每日价格的搜索列表，每页60条，</p>
<p><img src="https://pic3.zhimg.com/v2-b2e46eab1522e617f3b92d710c44ee14_b.jpg" alt=""></p>
<p>下一页同样，直到最后一页，大概一整年的数据。查看一下源代码，链接就在<a>标签里，可以直接获取，包括下一页，于是开干。</a></p>
<blockquote>
<p>参考教程 <a href="http://www.ituring.com.cn/article/465317" target="_blank" rel="noopener">【译文】R语言网络爬虫初学者指南（使用rvest包）</a></p>
</blockquote>
<h2 id="整体思路"><a href="#整体思路" class="headerlink" title="整体思路"></a>整体思路</h2><ol>
<li>根据教程，在Chrome安装Selector Gadget插件，根据CSS选择器、XPath快速定位想要爬取的标签</li>
<li>如果1不够精确或出现问题，使用正则表达式直接匹配文本</li>
<li>整理每日价格和日期为data.frame，写入excel<h2 id="预热准备"><a href="#预热准备" class="headerlink" title="预热准备"></a>预热准备</h2></li>
</ol>
<ul>
<li>R语言的安装，基本语法</li>
<li>所需R包</li>
<li><p>rvest 处理网页爬虫，<a href="http://blog.csdn.net/sadfasdgaaaasdfa/article/details/45372307" target="_blank" rel="noopener">简介</a></p>
</li>
<li><p>stringr 处理字符串：拼接、计算、匹配，<a href="https://www.cnblogs.com/nxld/p/6062950.html" target="_blank" rel="noopener">简介</a></p>
</li>
<li>其他要求：web开发的基本知识，基本编程知识</li>
</ul>
<h2 id="根据CSS选择器和XPath-定位相应节点"><a href="#根据CSS选择器和XPath-定位相应节点" class="headerlink" title="根据CSS选择器和XPath 定位相应节点"></a>根据CSS选择器和XPath 定位相应节点</h2><p>在Chrome浏览器里打开网页，右键空白处，查看网页源代码，就能看到一连串并列、嵌套的HTML标签（关于CSS，JavaScript部分请<a href="http://www.runoob.com/" target="_blank" rel="noopener">进一步学习前端开发</a>）。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=gb2312"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>铝合金ADC12价格行情-全球金属网OMETAL.COM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"/css/news.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">leftmargin</span>=<span class="string">"0"</span> <span class="attr">topmargin</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">class</span>=<span class="string">"colorbar"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>通俗地说，这些标签的关系可以由一个树状结构来表示，而每个标签在树中的位置或者说路径可以由<a href="http://www.w3school.com.cn/cssref/css_selectors.asp" target="_blank" rel="noopener">CSS选择器</a> 或 <a href="http://www.w3school.com.cn/xpath/index.asp" target="_blank" rel="noopener">XPath</a> 来表示，利用<a href="http://selectorgadget.com/" target="_blank" rel="noopener">Selector Gadget</a>插件，我们可以快速定位想要获取的内容。更精准的定义请查看<a href="http://www.runoob.com/htmldom/htmldom-intro.html" target="_blank" rel="noopener">HTML DOM 简介</a></p>
<p><img src="https://pic3.zhimg.com/v2-6c8684013bfec0d12f51c32f4f5d71d7_b.jpg" alt=""></p>
<p>插件高亮了所有class=”s105” 的元素，进一步查看源码</p>
<p><img src="./_image/2018-01-26 17-46-54.jpg" alt=""><br>链接在 td标签的子元素a标签中，根据CSS选择器描述，<code>.s105 a</code> 更为精准</p>
<p><img src="./_image/2018-01-26 17-47-41.jpg" alt=""><br><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">library('rvest')</span><br><span class="line"># 获取每日价格链接</span><br><span class="line">page &lt;- url('http://ometal.com/bin<span class="number">0</span>/new/searchkey.asp?<span class="keyword">type</span>=<span class="symbol">%C2</span><span class="symbol">%C1</span><span class="symbol">%BA</span><span class="symbol">%CF</span><span class="symbol">%BD</span><span class="symbol">%F0ADC12</span><span class="symbol">%BC</span><span class="symbol">%DB</span><span class="symbol">%B8</span><span class="symbol">%F1</span><span class="symbol">%D0</span><span class="symbol">%D0</span><span class="symbol">%C7</span><span class="symbol">%E9</span>','rb')</span><br><span class="line">webpage &lt;- read_html(page)</span><br><span class="line">daily_link &lt;- html_nodes(webpage,'.s<span class="number">105</span> a')</span><br><span class="line">daily_link &lt;- html_attr(daily_link,<span class="string">"href"</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="正则表达式精准提取"><a href="#正则表达式精准提取" class="headerlink" title="正则表达式精准提取"></a>正则表达式精准提取</h2><p>打开某一日价格行情，用同样的办法定位想要的价格</p>
<p><img src="./_image/2018-01-26 17-48-17.jpg" alt=""><br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 生成每日完整链接</span><br><span class="line">link &lt;- paste(<span class="string">"http://ometal.com"</span>,link_data,sep = <span class="string">""</span>)</span><br><span class="line"># 获取每日价格总表</span><br><span class="line">page &lt;- url(link,<span class="string">'rb'</span>)</span><br><span class="line">webpage &lt;- read_html(page)</span><br><span class="line">page_text &lt;- html_nodes(webpage,xpath = <span class="string">'//p/text()'</span>)</span><br></pre></td></tr></table></figure></p>
<p><img src="./_image/2018-01-26 17-48-58.jpg" alt=""></p>
<p>这次数据中的杂质更多，用正则表达式来进一步提取<br>观察价格数据的特征，由一系列数字组成，参考价中间由-隔开，涨跌由/隔开，涨跌数字前面有+/-来表示涨跌，所以正则匹配规则为<br><code>raw_text &lt;- str_extract_all(page_text,&quot;.?[0-9]+[-/].?[0-9]+&quot;)</code><br>其中<br><code>.</code>为任意字符<br><code>?</code>为前面字符出现0或1次<br><code>[]</code>内的任意字符将被匹配，<code>[0-9]</code>任意数字<br><code>+</code>前面字符出现1或多次<br>整个表达式可“翻译”为</p>
<blockquote>
<p>寻找这样一个字符串：在某个任意字符后面，出现2组数字，2组数字中间间隔1到2个字符，第一个字符为-或/</p>
</blockquote>
<p>此时得到的数据如下</p>
<p><img src="./_image/2018-01-26 17-52-36.jpg" alt=""><br>不相关的文字都变成了<code>character(0)</code>，已经接近我们想要的效果，但还不够。</p>
<h2 id="利用R强大的索引特性取子集"><a href="#利用R强大的索引特性取子集" class="headerlink" title="利用R强大的索引特性取子集"></a>利用R强大的索引特性取子集</h2><p>关于怎么去掉character(0)，我也是思索了 许久，参考stackoverflow上的几篇回答，终于得出最佳方案<a href="https://stackoverflow.com/questions/44766349/how-to-convert-character0-to-na-in-a-list-with-r-language" target="_blank" rel="noopener">How to convert character(0) to NA in a list with R language?</a> 根据这一篇，可以先将character(0)转换为NA，然后利用 is.na函数取子集但是既然可以用现成的函数取子集，为什么不能利用apply函数自定义直接判断character(0)然后取子集呢？<a href="https://stackoverflow.com/questions/36714218/keep-list-index-number-unchanged-after-removing-null-and-character0-in-r" target="_blank" rel="noopener">Keep list index number unchanged after removing NULL and character[0] in R</a></p>
<p><img src="./_image/2018-01-26 17-57-32.jpg" alt=""><br>这个答案中的方法给了我启发，也给了我误导，不如自己摸索</p>
<p><img src="./_image/2018-01-26 17-57-47.jpg" alt=""><br>漂亮！接下来就是循环获取所有价格，以及输出到excel文件了。</p>
<h2 id="磕碰"><a href="#磕碰" class="headerlink" title="磕碰"></a>磕碰</h2><ul>
<li>rvest包对部分CSS选择器语法不支持，具体查看<a href="https://cran.r-project.org/web/packages/rvest/rvest.pdf" target="_blank" rel="noopener">官方文档</a></li>
</ul>
<p><img src="./_image/2018-01-26 17-58-16.jpg" alt=""><br>竟然是通过selectr包从XPath转译过来的，那还是直接用XPath吧……而且仔细看selectr包的介绍，竟然是从Python包移植过来的（请允悲）</p>
<p><img src="./_image/2018-01-26 17-58-41.jpg" alt=""></p>
<ul>
<li>在抓取下一页的时候，出现了已定位到a的父元素，却无法提取链接的情况，仔细看源码，因为是首页，上一页没有链接，但&lt;&lt;&lt;显然阻断了XPath的解析</li>
</ul>
<p><img src="./_image/2018-01-26 18-01-05.jpg" alt=""><br>改变策略，通过读取html文本，进行全文正则匹配，读取原文就一定要注意编码方式，否则正则无法正确匹配。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">totalPage &lt;- readLines(total)</span><br><span class="line">totalPage &lt;- iconv(totalPage,from = <span class="string">"GB2312"</span>,to = <span class="string">"UTF-8"</span>)</span><br><span class="line"><span class="keyword">for</span> (<span class="selector-tag">i</span> <span class="keyword">in</span> length(totalPage):<span class="number">1</span>) &#123;</span><br><span class="line">rule2 &lt;- regexpr(<span class="string">".*next&amp;page.*下一页"</span>,totalPage[i])</span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(rule2[<span class="number">1</span>]!=-<span class="number">1</span>)</span></span> &#123;</span><br><span class="line">rule3&lt;-regexpr(<span class="string">"/bin0.*next&amp;page=[0-9]+"</span>,totalPage[i])</span><br><span class="line">nextLink&lt;- regmatches(totalPage[i],rule3)</span><br><span class="line"><span class="function"><span class="title">break</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>R的很多报错非常非人类，比如打错变量名会告诉你长度不一致（黑人问号？！）……幸而找到一篇<a href="https://www.r-bloggers.com/translating-weird-r-errors/" target="_blank" rel="noopener">不错的总结文</a></li>
<li>初期在安装rvest包时，提醒需要rJava包，结果这个安装也是颇为曲折，大约遇到了5,6个问题</li>
</ul>
<p><img src="./_image/2018-01-26 18-02-02.jpg" alt=""></p>
<p>顺便加深了对环境变量的理解…… <a href="http://www.micmiu.com/lang/java/set-javahome-on-mac-os-x/" target="_blank" rel="noopener">$JAVA_HOME环境变量在Mac OS X中设置的问题</a></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>最大的问题还是对R语言的不熟悉，现查现用，以及中文资源较少（其实也不少，但是遇到个例化的问题就很难直接搜到结果，通常只有去外网或Stack Overflow（上面的第二个链接浏览次数才75次……），而且一定要找准关键词。另外一个感受是R并不是一门普适性编程语言，有其牛逼之处（向量运算！），也有很多憋屈的时候，以后再用python做爬虫比较看看（flag……）最后，《R语言实战》真是一本好书！</p>

          
        
      
    </div>

    <div>
      
    </div>
  


    <div>
      
    </div>


    <footer class="post-footer">
         
      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/29/shell-file-compare/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Shawkaine's 小炉">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Shawkaine's 小炉" src="/images/avatar.jpg">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/29/shell-file-compare/" itemprop="url">
                  Shell 比较并合并两个相似文件
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-29T00:00:00+08:00">
                2017-01-29
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

		  
		  
          
 
        


        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>最近因为网易云笔记同步出错，出现了两份相似的笔记，因为内容比较杂，人工比对费时而且容易出错，于是想用Shell来合并两个文件，结果相当于两个集合求和再去重。</p>
<p>涉及命令 <code>sort, grep, sed, cat</code></p>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><p>我的文本具有一定的特殊性，可以排序，何乐而不为~ </p>
<p><code>LC_ALL=C sort -f file&gt;newfile</code></p>
<p><code>LC_ALL=C</code> 是设置语言环境为默认，强制<code>sort</code>命令以字节为单位来排序，没有的话可能会报错<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/01/29/shell-file-compare/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>
  


    <div>
      
    </div>


    <footer class="post-footer">
         
      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/07/23/night-flight-note/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Shawkaine's 小炉">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Shawkaine's 小炉" src="/images/avatar.jpg">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/23/night-flight-note/" itemprop="url">
                  《夜航》的读书笔记
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-23T00:00:00+08:00">
                2016-07-23
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

		  
		  
          
 
        


        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>一早就读过，最近在多看导出的印象笔记中翻到，感慨良多，常读常新。</p>
<p><strong>【法】圣埃克苏佩里</strong></p>
<blockquote>
<p>注：《小王子》的作者</p>
</blockquote>
<h3 id="第六章"><a href="#第六章" class="headerlink" title="第六章"></a>第六章</h3><blockquote>
<p>2013-11-16 20:45:01</p>
</blockquote>
<p>要是他们讲交情才服从您，您是在欺骗他们。您本人没有权利要人家作出牺牲。</p>
<blockquote>
<p>2013-11-16 20:45:11</p>
</blockquote>
<p>还有，要是他们跟您有了交情，以为某些苦活可以不干，您也是在欺骗他们，因为他们还是应该服从。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/07/23/night-flight-note/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>
  


    <div>
      
    </div>


    <footer class="post-footer">
         
      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/07/19/NSProxy-sample/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Shawkaine's 小炉">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Shawkaine's 小炉" src="/images/avatar.jpg">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/19/NSProxy-sample/" itemprop="url">
                  初探NSProxy黑魔法
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-19T00:00:00+08:00">
                2016-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

		  
		  
          
 
        


        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote>
<p>参考<br><a href="http://blog.csdn.net/onlyou930/article/details/7548476" target="_blank" rel="noopener">iOS使用NSProxy实现代理模式</a><br><a href="http://blog.csdn.net/onlyou930/article/details/7548634" target="_blank" rel="noopener">iOS使用NSProxy实现消息转发机制，模拟多重继承</a><br><a href="https://coldfunction.com/mgen/p/e" target="_blank" rel="noopener">封装NSInvocation用数组调用任意个数参数的performSelector</a></p>
</blockquote>
<p>先看官方说明</p>
<blockquote>
<p>NSProxy is an abstract superclass defining an API for objects that act as stand-ins for other objects or for objects that don’t exist yet. Typically, a message to a proxy is forwarded to the real object or causes the proxy to load (or transform itself into) the real object. Subclasses of NSProxy can be used to implement transparent distributed messaging (for example, NSDistantObject) or for lazy instantiation of objects that are expensive to create.</p>
</blockquote>
<p>NSProxy 是一个虚基类，它为一些表现的像是其它对象的替身或者并不存在的对象定义一套API。通常发送给代理的消息会被转发给一个真实的对象，或者促使代理本身加载(或者将本身转换成)一个真实的对象。NSProxy的子类可以用来实现消息的透明分布式转发，或者用于开销巨大的对象的懒加载（初始化）。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/07/19/NSProxy-sample/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>
  


    <div>
      
    </div>


    <footer class="post-footer">
         
      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/07/13/sz-clouds/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Shawkaine's 小炉">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Shawkaine's 小炉" src="/images/avatar.jpg">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/13/sz-clouds/" itemprop="url">
                  深圳的云  - 持续更新
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-13T18:31:22+08:00">
                2016-07-13
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

		  
		  
          
 
        


        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote>
<p>随手拍云并记录</p>
</blockquote>
<h4 id="捉云见蝶"><a href="#捉云见蝶" class="headerlink" title="捉云见蝶"></a>捉云见蝶</h4><p><img src="http://oa1h8wuus.bkt.clouddn.com/6-20.JPG" alt=""><br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/07/13/sz-clouds/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>
  


    <div>
      
    </div>


    <footer class="post-footer">
         
      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/06/17/Jekyll-on-Rails/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Shawkaine's 小炉">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Shawkaine's 小炉" src="/images/avatar.jpg">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/17/Jekyll-on-Rails/" itemprop="url">
                  Jekyll on Rails原创翻译
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-06-17T18:09:00+08:00">
                2016-06-17
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

		  
		  
          
 
        


        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h4 id="原文链接-https-www-sitepoint-com-jekyll-rails"><a href="#原文链接-https-www-sitepoint-com-jekyll-rails" class="headerlink" title="原文链接 https://www.sitepoint.com/jekyll-rails/"></a>原文链接 <a href="https://www.sitepoint.com/jekyll-rails/" target="_blank" rel="noopener">https://www.sitepoint.com/jekyll-rails/</a></h4><p>之前研究CI持续集成时，就发现ruby是一门低调（国内）而活跃的语言。打算搭自己的网站&amp;博客之后，在Node.JS，Ruby on Rails和 Github.io 之间徘徊了一下，选择了ruby，因为之前试过Github.io + Jekyll，便试了试搜索这两个关键词，没想到竟发现这样一篇通俗易懂，非常适合入门的教程，便试着翻译一下，希望对大家有所帮助。</p>
<hr>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/06/17/Jekyll-on-Rails/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>
  


    <div>
      
    </div>


    <footer class="post-footer">
         
      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/06/07/iOS-developers/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Shawkaine's 小炉">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Shawkaine's 小炉" src="/images/avatar.jpg">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/07/iOS-developers/" itemprop="url">
                  iOS技术博客收录 - 持续更新
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-06-07T06:23:00+08:00">
                2016-06-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/sticky/" itemprop="url" rel="index">
                    <span itemprop="name">sticky</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

		  
		  
          
 
        


        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="个人"><a href="#个人" class="headerlink" title="个人"></a>个人</h2><p><a href="http://www.dullgrass.com" target="_blank" rel="noopener">dullgrass.com</a>    Wu Cuiping (dullgrass)   乐视网   PNChart主要贡献者之一</p>
<p><a href="http://limboy.me" target="_blank" rel="noopener">limboy.me/</a>     李忠  蘑菇街  </p>
<p><a href="http://blog.cnbluebox.com" target="_blank" rel="noopener">blog.cnbluebox.com</a><br>       刘坤   阿里</p>
<p><a href="http://casatwy.com" target="_blank" rel="noopener">casatwy.com</a>  田伟宇 阿里<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/06/07/iOS-developers/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>
  


    <div>
      
    </div>


    <footer class="post-footer">
         
      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  

          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="" />
          <p class="site-author-name" itemprop="name"></p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Shawkaine" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/myrt" target="_blank" title="zhihu">
                  
                    <i class="fa fa-fw fa-battery-3"></i>
                  
                  zhihu
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" rel="external nofollow">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">
    NexT.Mist
  </a>| Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a>
</div>





        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  



  


  
  

  

  

  

  


</body>
</html>
